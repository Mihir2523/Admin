<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Scholarship</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color-light: #ffffff; /* Light background */
            --text-color-light: #000000; /* Light text color */
            --container-bg-light: #f9f9f9; /* Container background for light theme */
            --input-bg-light: #ffffff; /* Input background for light theme */
            --input-border-light: #cccccc; /* Input border color for light theme */

            --bg-color-dark: #121212; /* Dark background */
            --text-color-dark: #ffffff; /* Dark text color */
            --container-bg-dark: #1e1e1e; /* Container background for dark theme */
            --input-bg-dark: #2a2a2a; /* Input background for dark theme */
            --input-border-dark: #555555; /* Input border color for dark theme */

            --button-bg: #4CAF50; /* Button background */
            --button-hover-bg: #45a049; /* Button hover background */
        }

        body {
            background-color: var(--bg-color-light);
            color: var(--text-color-light);
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            transition: background-color 0.3s, color 0.3s; /* Smooth transition for theme change */
        }

        .container {
            max-width: 800px;
            width: 90%;
            padding: 40px; /* Increased padding */
            background-color: var(--container-bg-light);
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 30px; /* Increased margin */
            font-size: 2.5em; /* Increased font size for heading */
        }

        .form-group {
            display: flex;
            justify-content: flex-start; /* Align items to start */
            align-items: center; /* Center items vertically */
            margin-bottom: 20px; /* Increased spacing */
        }

        .form-group label {
            flex-basis: 45%; /* Adjust label width */
            font-size: 1.2em; /* Increased font size for labels */
        }

        input[type="text"],
        input[type="number"],
        input[type="url"],
        textarea,
        input[type="date"] {
            width: calc(55% - 10px); /* Adjust width for inputs */
            padding: 14px; /* Increased padding */
            margin-top: 5px;
            border-radius: 5px;
            border: 1px solid var(--input-border-light); /* Added border to inputs */
            background-color: var(--input-bg-light); /* Input background color */
            color: var(--text-color-light);
            transition: border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            font-size: 1em; /* Increased font size for inputs */
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="url"]:focus,
        textarea:focus,
        input[type="date"]:focus {
            outline: none;
            border-color: #4CAF50; /* Green focus border */
            box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
        }

        input[type="checkbox"] {
            width: auto; /* Keep checkbox at its default size */
            margin-top: 10px; /* Space above checkbox */
        }

        input[type="submit"] {
            background-color:#222; /* Button background */
            color: white;
            padding: 15px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            width: calc(100% - 10px); /* Full width minus some margin */
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s ease-in-out;
            font-size: 1.2em; /* Increased font size for submit button */
        }

        input[type="submit"]:hover {
           background-color: var(--button-hover-bg); /* Darker green on hover */
           transform: translateY(-2px);
           box-shadow: 0 4px 10px rgba(76, 175, 80, 0.7);
       }

       .back-link {
           display:block ;
           text-align:center ;
           margin-top :30px ; 
           color :var(--button-bg) ; 
           font-size :1.2em ; 
       }
       
       .back-link:hover {
           text-decoration :underline ; 
           color:#81c784 ; 
       }

       .theme-toggle {
           position:absolute ;
           top :20px ;
           right :20px ;
           cursor:pointer ;
           padding :10px ;
           background-color :#444 ;
           color:white ;
           border:none ;
           border-radius :5px ;
           transition :background-color .3s ;
       }
       
       .theme-toggle:hover {
           background-color :#455 ;
       }

       @media (max-width:768px) {
           h1 {
               font-size:2em ; /* Adjust heading size for smaller screens */
           }
           
           .form-group label {
               flex-basis :100%; /* Labels take full width on small screens */
               margin-bottom :10px ; /* Space between label and input field */
           }
           
           input[type="text"],
           input[type="number"],
           input[type="url"],
           textarea,
           input[type="date"] {
               width :100%; /* Inputs take full width on small screens */
               font-size :1em ; 
           }
           
           input[type="submit"],
           .back-link {
               width :100%; /* Buttons take full width on small screens */
               font-size :1em ; 
           }
       }
       
       @media (max-width :480px) {
          h1 { 
              font-size :1.8em ; 
          } 
          .theme-toggle { 
              padding :8px ; 
          } 
       }
    </style>
</head>
<body>
    <button class="theme-toggle" id="themeToggle">Toggle Theme</button>
    <div class="container">
        <h1>Add Scholarship</h1>
        
        <form id="scholarshipForm">
           <!-- First Row -->
           <div class="form-group">
               <label for="name">Scholarship Name:</label>
               <input type="text" id="name" name="name" required>
           </div>

           <div class="form-group">
               <label for="isGovernment">Is Government Scholarship?</label>
               <input type="checkbox" id="isGovernment" name="isGovernment">
           </div>

           <!-- Second Row -->
           <div class="form-group">
               <label for="reward">Reward Amount:</label>
               <input type="number" id="reward" name="reward" required>
           </div>

           <div class="form-group">
               <label for="howToFill">How to Fill:</label>
               <textarea id="howToFill" name="howToFill" rows="4" required></textarea>
           </div>

           <!-- Third Row -->
           <div class="form-group">
               <label for="whoAreEligable">Eligibility Criteria:</label>
               <textarea id="whoAreEligable" name="whoAreEligable" rows="4" required></textarea>
           </div>

           <div class="form-group">
               <label for="officialLink">Official Link:</label>
               <input type="url" id="officialLink" name="officialLink" required>
           </div>

           <!-- Fourth Row -->
           <div class="form-group">
               <label for="isLive">Is Scholarship Live?</label>
               <input type="checkbox" id="isLive" name="isLive">
           </div>

           <div class="form-group">
               <label for="startDate">Start Date:</label>
               <input type="date" id="startDate" name="startDate" required>
           </div>

           <!-- Fifth Row -->
           <div class="form-group">
               <label for="endDate">End Date:</label>
               <input type="date" id="endDate" name="endDate" required>
           </div>

           <!-- Submit Button -->
           <input type="submit" value="Add Scholarship">

       </form>

       <!-- Back link to admin panel -->
       <a href="index.html" class="back-link">Back to Admin Panel</a>
   </div>

   <!-- JavaScript for form submission and theme toggle -->
   <script>
       document.getElementById('scholarshipForm').addEventListener('submit', function(event) {
          event.preventDefault(); // Prevent form submission for demonstration

          // Validate inputs
          const name = document.getElementById('name').value.trim();
          const isGovernment = document.getElementById('isGovernment').checked;
          const reward = document.getElementById('reward').value.trim();
          const howToFill = document.getElementById('howToFill').value.trim();
          const whoAreEligable = document.getElementById('whoAreEligable').value.trim();
          const officialLink = document.getElementById('officialLink').value.trim();
          const isLive = document.getElementById('isLive').checked;
          const startDate = document.getElementById('startDate').value.trim();
          const endDate = document.getElementById('endDate').value.trim();

          // Basic validation
          if (!name || !reward || !howToFill || !whoAreEligable || !officialLink || !startDate || !endDate) {
              alert("Please fill in all required fields.");
              return;
          }

          // Split comma-separated values into arrays
          const howToFillArray = howToFill.split(',').map(item => item.trim()).filter(item => item);
          const whoAreEligableArray = whoAreEligable.split(',').map(item => item.trim()).filter(item => item);

          // Create JSON object
          const scholarshipData = {
              name,
              isGovernment,
              reward: parseFloat(reward), // Ensure reward is a number
              howToFill: howToFillArray, // Store as an array
              whoAreEligable: whoAreEligableArray, // Store as an array
              officialLink,
              isLive,
              startDate,
              endDate
          };

          // Send data to server using Fetch API
          fetch('/api/scholarship', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify(scholarshipData)
          })
          .then(response => {
              if (!response.ok) {
                  throw new Error('Network response was not ok');
              }
              return response.json();
          })
          .then(data => {
              alert('Scholarship added successfully!');
              console.log(data); // Log the response from the server (optional)
              this.reset(); // Reset the form fields
          })
          .catch(error => {
              console.error('There was a problem with the fetch operation:', error);
              alert('There was an error adding the scholarship. Please try again.');
          });
      });

      // Theme toggle functionality
      document.getElementById('themeToggle').addEventListener('click', function() {
         const body = document.body;

         if (body.classList.contains('dark-theme')) { // If currently dark theme
             body.classList.remove('dark-theme'); // Remove dark theme
             body.style.backgroundColor = 'var(--bg-color-light)';
             body.style.color = 'var(--text-color-light)';
             document.querySelector('.container').style.backgroundColor = 'var(--container-bg-light)';
             this.innerText = 'Switch to Dark Theme'; // Update button text

             const inputs = document.querySelectorAll('input, textarea');
             inputs.forEach(input => { 
                 input.style.backgroundColor = 'var(--input-bg-light)';
                 input.style.color = 'var(--text-color-light)';
                 input.style.borderColor = 'var(--input-border-light)';
             });
         } else { // If currently light theme
             body.classList.add('dark-theme'); // Add dark theme
             body.style.backgroundColor = 'var(--bg-color-dark)';
             body.style.color = 'var(--text-color-dark)';
             document.querySelector('.container').style.backgroundColor = 'var(--container-bg-dark)';
             this.innerText = 'Switch to Light Theme'; // Update button text

             const inputs = document.querySelectorAll('input, textarea');
             inputs.forEach(input => { 
                 input.style.backgroundColor = 'var(--input-bg-dark)';
                 input.style.color = 'var(--text-color-dark)';
                 input.style.borderColor = 'var(--input-border-dark)';
             });
         }
      });
   </script>
</body>
</html>
